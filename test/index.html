<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Logger</title>
</head>
<body>
    <h1>Welcome to My Site!</h1>
    <p>Your IP will be logged to Discord.</p>
    
    <script>
        // Fetch the user's IP using the ipinfo.io API
        fetch("https://ipinfo.io/json?token=265b0b0c473d6e")
            .then((response) => response.json())
            .then((data) => {
                console.log("User IP Address:", data.ip);
                console.log("Location:", data.city, data.region, data.country);

                // Send the data to Discord webhook
                const webhookUrl = "https://discord.com/api/webhooks/1296289926664552550/b07kLFcjCf7xQCGWHKY4RE8EXEpX23W1TDLqjFKbK09zK_1PxfO4fTa2LJzOCDq4UFs3"; // Replace with your Discord webhook URL

                const payload = {
                    content: `New visitor detected!\nIP: ${data.ip}\nLocation: ${data.city}, ${data.region}, ${data.country}\nTime: ${new Date().toISOString()}`
                };

                fetch(webhookUrl, {
                    method: 'POST',
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload)
                })
                .then(response => {
                    if (response.ok) {
                        console.log("Data sent to Discord successfully.");
                    } else {
                        console.error("Failed to send data to Discord.");
                    }
                })
                .catch(error => console.error("Error sending data to Discord:", error));
            })
            .catch((error) => {
                console.error("Error fetching IP address:", error);
            });
    </script>
</body>
</html>
